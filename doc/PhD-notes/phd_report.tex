\documentclass[12pt,a4paper,twoside]{report}

\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\graphicspath{ {./../figures/} }
\usepackage{pgfplots}                %% for ploting in latex
\usepgfplotslibrary{external}
\usetikzlibrary{pgfplots.groupplots} %% pgf groupplots
%\usetikzlibrary{pgfplots.external}
%\tikzexternalize
\usepackage{caption}
\captionsetup[table]{position=bottom}
\usepackage{subcaption}
\usepackage{xcolor,cancel}
\usepackage{adjustbox}  %% e.g. wrap verbatim larger than linewidth
\usepackage{fancyvrb}   %% Verbatim and coloring therein
\usepackage{hyperref}
%\usepackage{imakeidx}   %% for index
%\makeindex[columns=3, title=Alphabetical Index]
\usepackage{soul}       %% allow wrapping of underlined text, via \ul{...}
\usepackage{natbib}     %% for bibliography
\iffalse
  % the following is for biblatex, see
  % https://www.overleaf.com/learn/latex/Biblatex_bibliography_styles
  \usepackage[
    backend=biber,
    style=authoryear-icomp
  ]{biblatex}
  \addbibresource{doris.bib}
\fi
\usepackage[intoc]{nomencl}  %% for nomenclature
\makenomenclature
\usepackage{etoolbox} %% for grouping nomenclature, see nomgroup
%\usepackage[left=2cm,right=2cm]{geometry} % somewhat wider text to allow code
\usepackage{geometry}   %% somewhat wider text to allow code
\usepackage[per-mode=symbol]{siunitx}    %% SI Units
\usepackage{amsmath,amssymb,amsthm,bm} %% for math ...
\usepackage{mathabx}
\usepackage{mathtools}
\usepackage[most]{tcolorbox} %% colorboxes for equations
\usepackage[acronym, toc, nonumberlist]{glossaries} %% for acronyms
\usepackage{tabularx}
\usepackage{multirow}  %% for tabular
\usepackage{colortbl} %% for \arrayrulecolor, colored hlines
\usepackage{todonotes} %% fancy, right-margin notes
\usepackage{csquotes}  %% for quoting
\usepackage{wasysym}   %% zodiac symbols (equinox, etc ...)
\usepackage{algorithm2e} %% for pseudocode/algorithms
\usepackage{footmisc} %% for referencing footnotes (provides \footref)
\usepackage{enumitem} %% format description an lists

%% TikZ stuff %%
\usepackage{tikz} % add a few drawings ...
\usepackage{tkz-euclide}
\usepackage{tikz-3dplot}
\usetikzlibrary{matrix}
\usetikzlibrary{shapes.geometric, arrows} % for creating tikz flowcharts 
\usetikzlibrary{shapes.misc}
\usetikzlibrary{calc}
\usetikzlibrary{quotes,angles}
\usetikzlibrary{positioning}
\usetikzlibrary{mindmap,trees}
\usetikzlibrary{arrows.meta,shapes,shadows,backgrounds}

\tikzstyle{io} = [trapezium, trapezium left angle=70, trapezium right angle=110, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=blue!30]
\tikzstyle{process} = [rectangle, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=orange!30]
\tikzstyle{decision} = [diamond, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=green!30]
\tikzstyle{arrow} = [thick,->,>=stealth]

\usepackage{listings} % include source code files
% Solarized colour scheme for listings
\definecolor{solarized@base03}{HTML}{002B36}
\definecolor{solarized@base02}{HTML}{073642}
\definecolor{solarized@base01}{HTML}{586e75}
\definecolor{solarized@base00}{HTML}{657b83}
\definecolor{solarized@base0}{HTML}{839496}
\definecolor{solarized@base1}{HTML}{93a1a1}
\definecolor{solarized@base2}{HTML}{EEE8D5}
\definecolor{solarized@base3}{HTML}{FDF6E3}
\definecolor{solarized@yellow}{HTML}{B58900}
\definecolor{solarized@orange}{HTML}{CB4B16}
\definecolor{solarized@red}{HTML}{DC322F}
\definecolor{solarized@magenta}{HTML}{D33682}
\definecolor{solarized@violet}{HTML}{6C71C4}
\definecolor{solarized@blue}{HTML}{268BD2}
\definecolor{solarized@cyan}{HTML}{2AA198}
\definecolor{solarized@green}{HTML}{859900}

% Define C++ syntax highlighting colour scheme
\lstset{language=C++,
        basicstyle=\footnotesize\ttfamily,
        numbers=left,
        numberstyle=\tiny,
        tabsize=2,
        breaklines=true,
        escapeinside={@}{@},
        numberstyle=\tiny\color{solarized@base01},
        keywordstyle=\color{solarized@green},
        stringstyle=\color{solarized@cyan}\ttfamily,
        identifierstyle=\color{solarized@blue},
        commentstyle=\color{solarized@base01},
        emphstyle=\color{solarized@red},
        frame=single,
        rulecolor=\color{solarized@base2},
        rulesepcolor=\color{solarized@base2},
        showstringspaces=false
}

% include the external source file, instead of pasting its contents directly 
% into the LaTeX documen
\newcommand{\codelst}[1]{\lstinputlisting[caption=\texttt{\protect\detokenize{#1}}]{#1}\newpage}

% a macro to write norms
\newcommand\norm[1]{\lVert#1\rVert}
% a macro to write derivative at:
% examples: 1. $f'(x)\at{x=1}$
%           2. $f'(x)\at[\big]{x=1}$
\newcommand{\at}[2][]{#1|_{#2}}
% Symbols for Love numbers, h, k, and l
\newcommand{\lovek}{k}
\newcommand{\loveh}{h}
\newcommand{\lovel}{l}
% Imaginary i
\newcommand{\iim}{{i\mkern1mu}}

% dBm unit
\DeclareSIUnit{\belmilliwatt}{Bm}
\DeclareSIUnit{\dBm}{\deci\belmilliwatt}
\DeclareSIUnit{\cycles}{cycles}
\DeclareSIUnit\century{century}
\DeclareSIUnit\year{yr}
\DeclareSIUnit\larcsecond{as} %% literal arcsecond

% augment the paragraph skip ... a bit more clear text
\setlength{\parskip}{1em}

% equation colorbox
\tcbset{colback=yellow!5!white, colframe=red!50!black,
        highlight math style= {enhanced, %<-- needed for the ’remember’ options
            colframe=red,colback=red!10!white,boxsep=0pt}
        }

% mathmode strikethrough command, see
% https://tex.stackexchange.com/questions/20609/strikeout-in-math-mode#20613
\newcommand\hcancel[2][black]{\setbox0=\hbox{$#2$}%
\rlap{\raisebox{.45\ht0}{\textcolor{#1}{\rule{\wd0}{1pt}}}}#2}

%% Nomenclature
%% This code creates the groups, see 
%% https://www.overleaf.com/learn/latex/Nomenclatures
% -----------------------------------------
%\makenomenclature
\renewcommand\nomgroup[1]{%
  \item[\bfseries
  \ifstrequal{#1}{P}{Physics constants}{%
  \ifstrequal{#1}{V}{Vectors and Matrices}{%
  \ifstrequal{#1}{O}{Other symbols}{}}}%
]}
% -----------------------------------------

\makeglossaries
\newacronym{ids}{IDS}{International DORIS Service}
\newacronym{antex}{ANTEX}{Antenna Exchange Format}
\newacronym{pcv}{PCV}{Phase Center Variations}
\newacronym{pco}{PCO}{Phase Center Offset}
\newacronym{iers}{IERS}{International Earth Rotation and Reference Systems Service}
\newacronym{era}{ERA}{Earth Rotation Angle}
\newacronym{gst}{GST}{Greenwich Sidereal Time}
\newacronym{tio}{TIO}{Terrestrial Intermediate Origin}
\newacronym{vlbi}{VLBI}{Very Long Baseline Interferometry}
\newacronym{ode}{ODE}{Ordinary Differential Equation}
\newacronym{rkn}{RKN}{Runge-Kutta-Nystr{\"o}m}
\newacronym{snc}{SNC}{State Noise Compensation}
\newacronym{dmc}{DMC}{Dynamic Model Compensation}
\newacronym{icrf}{ICRF}{International Celestial Reference Frame}
\newacronym{icrs}{ICRS}{International Celestial Reference System}
\newacronym{crs}{CRS}{Celestial Reference System}
\newacronym{gcrf}{GCRF}{Geocentric Celestial Reference Frame}
\newacronym{gcrs}{GCRS}{Geocentric Celestial Reference System}
\newacronym{bcrf}{BCRF}{Barycentric Celestial Reference Frame}
\newacronym{bcrs}{BCRS}{Barycentric Celestial Reference System}
\newacronym{cip}{CIP}{Celestial Intermediate Pole}
\newacronym{cio}{CIO}{Celestial Intermediate Origin}
\newacronym{iau}{IAU}{International Astronomical Union}
\newacronym{cirs}{CIRS}{Celestial Intermediate Reference System}
\newacronym{itrs}{ITRS}{International Terrestrial Reference System}
\newacronym{tirs}{TIRS}{Terrestrial Intermediate Reference System}
\newacronym{itrf}{ITRF}{International Terrestrial Reference Frame}
\newacronym{irf}{IRF}{Inertial Reference Frame}
\newacronym{trf}{TRF}{Terrestrial Reference Frame}
\newacronym{tcb}{TCB}{Barycentric Coordinate Time}
\newacronym{tdb}{TDB}{Barycentric Dynamical Time}
\newacronym{tcg}{TCG}{Geocentric Coordinate Time}
\newacronym{tt}{TT}{Terestrial Time}
\newacronym{tai}{TAI}{International Atomic Time}
\newacronym{eop}{EOP}{Earth Orientation Parameters}
\newacronym{erp}{ERP}{Earth Rotation Parameters}
\newacronym{leo}{LEO}{Low Earth Orbit}
\newacronym{sinex}{SINEX}{Solution INdependent EXchange Format}
\newacronym{cnes}{CNES}{Centre National d'Etudes Spatiales (National Centre for Space Studies)}
\newacronym{catr}{CATR}{Compact Antenna Test Range}
\newacronym{utc}{UTC}{Coordinated Universal Time}
\newacronym{sofa}{SOFA}{Standards Of Fundamental Astronomy}
\newacronym{fcn}{FCN}{Free Core Nutation}
\newacronym{ut1}{UT1}{Universal Time}
\newacronym{tgp}{TGP}{Tide Generating Potential}
\newacronym{pod}{POD}{Precise Orbit Determination}
\newacronym{gmst}{GMST}{Greenwich Mean Sidereal Time}
\newacronym{icgem}{ICGEM}{International Centre for Global Earth Models}
\newacronym{iag}{IAG}{International Association of Geodesy}
\newacronym{igfs}{IGFS}{International Gravity Field Service}
\newacronym{tvg}{TVG}{Time Variable Gravity}
\newacronym{ecef}{ECEF}{Earth Centered Earth Fixed}
\newacronym{grace}{GRACE}{Gravity Recovery and Climate Experiment}
\newacronym{jpl}{JPL}{Jet Propulsion Laboratory}
\newacronym{iugg}{IUGG}{International Union of Geodesy and Geophysics}
\newacronym{jd}{JD}{Julian Date}
\newacronym{mjd}{MJD}{Modified Julian Date}
\newacronym{goce}{GOCE}{Gravity Field and Steady-State Ocean Circulation Explorer}
\newacronym{pece}{PECE}{Predictor-Corrector}
%\newacronym{}{}{}


\title{PhD Memo and Notes}
\author{Xanthos}
\date{\today}

\begin{document}

%% Nomenclature
\nomenclature[P]{$c$}{Speed of light in a vacuum}
\nomenclature[P]{$G$}{Gravitational constant}
\nomenclature[P]{$M_{\Earth}$}{Earth's mass}
\nomenclature[P]{$R_{\Earth}$}{Earth's equatorial radius}
\nomenclature[V]{$\bm{x}$}{Bold leters denote vectors}
\nomenclature[V]{$\bm{X}$}{Bold, capital leters denote matrices}
\nomenclature[V]{$\bm{R}_x$, $\bm{R}_y$, $\bm{R}_z$}{Elementary rotation matrix, around the $x-$, $y-$ and $z-$axis respectively}

\begin{titlepage}
\maketitle
\end{titlepage}

%\frontmatter
\tableofcontents
\listoffigures
\listoftables

%% for this to work, the following command must be issued:
%% makeindex phd_report.nlo -s nomencl.ist -o phd_report.nls
\printnomenclature

\chapter{Introduction}\label{ch:introduction}
\input{chapters/sections/introduction}
\input{chapters/sections/the_software}
\input{chapters/sections/costg_benchmark_test}

\chapter{Fundamental Astrodynamics}\label{ch:fundamental-astrodynamics}
  \section{Orbital Mechanics}\label{ssec:orbital-mechanics}
    \input{chapters/sections/two_body_problem}
    \input{chapters/sections/orbital_elements}
    \input{chapters/sections/non_keplerian_motion}
      \input{chapters/sections/geopotential}
      \input{chapters/sections/earth_gravity_acceleration}
      \input{chapters/sections/third_body_attraction}
      \input{chapters/sections/earth_tides_gravity}
      \input{chapters/sections/ocean_tides_gravity}
      \input{chapters/sections/atmospheric_drag}
      \subsubsection{Solar Radiation Pressure}
    \section{The Celestial Reference Frame}
      \input{chapters/sections/icrf}
      \input{chapters/sections/earth_attitude}
      \input{chapters/sections/terrestrial_to_celestial}
      \input{chapters/sections/eop_interpolation}
    
    \section{Time Systems and Scales}
      \input{chapters/sections/time_systems}
      \input{chapters/sections/time_scales_implementation}

\chapter{Orbit Integration}\label{ch:orbit-integration}
    \input{chapters/sections/integration_introduction}
    \input{chapters/sections/runge_kutta}
    \input{chapters/sections/multistep_methods}
%\include{chapters/satellite_orbits}
%\include{chapters/orbit_intergators}
%\include{chapters/orbit_modeling}
%\include{chapters/time_scales}
%\include{chapters/reference_systems}
%\include{chapters/celestial}
%\include{chapters/tides}

%\chapter{DORIS}
%\label{ch:doris}
%\include{chapters/doris_rinex}
%\include{chapters/ground_segment}
%\include{chapters/doris_theory}
%\include{chapters/technicalities}
%\include{chapters/variational_equations}
%\include{chapters/orbdet}
%\include{chapters/troposphere}

\bibliographystyle{agsm} 
\bibliography{doris}
\iffalse
  \printbibliography
\fi

\glsaddall
\printglossary[type=\acronymtype,title=Acronyms]

%\printindex

\end{document}
